var hs={lang:{cssDirection:"ltr",loadingText:"Loading...",loadingTitle:"Click to cancel",focusTitle:"Click to bring to front",fullExpandTitle:"Expand to actual size (f)",creditsText:"Powered by <i>Highslide JS</i>",creditsTitle:"Go to the Highslide JS homepage",previousText:"Previous",nextText:"Next",moveText:"Move",closeText:"Close",closeTitle:"Close (esc)",resizeTitle:"Resize",playText:"Play",playTitle:"Play slideshow (spacebar)",pauseText:"Pause",pauseTitle:"Pause slideshow (spacebar)",previousTitle:"Previous (arrow left)",nextTitle:"Next (arrow right)",moveTitle:"Move",fullExpandText:"Full size",number:"Image %1 of %2",restoreTitle:"Click to close image, click and drag to move. Use arrow keys for next and previous."},graphicsDir:"highslide/graphics/",restoreCursor:"zoomout.cur",expandDuration:250,restoreDuration:250,marginLeft:15,marginRight:15,marginTop:15,marginBottom:15,zIndexCounter:1001,loadingOpacity:0.75,allowMultipleInstances:true,numberOfImagesToPreload:5,outlineWhileAnimating:2,outlineStartOffset:3,fullExpandPosition:"bottom right",fullExpandOpacity:1,padToMinWidth:false,showCredits:true,creditsHref:"http://highslide.com",enableKeyListener:true,transitions:[],transitionDuration:500,dimmingOpacity:0,dimmingDuration:50,anchor:"auto",align:"auto",targetX:null,targetY:null,dragByHeading:true,minWidth:200,minHeight:200,allowSizeReduction:true,outlineType:"drop-shadow",wrapperClassName:"highslide-wrapper",skin:{controls:'<div class="highslide-controls"><ul><li class="highslide-previous"><a href="#" title="{hs.lang.previousTitle}"><span>{hs.lang.previousText}</span></a></li><li class="highslide-play"><a href="#" title="{hs.lang.playTitle}"><span>{hs.lang.playText}</span></a></li><li class="highslide-pause"><a href="#" title="{hs.lang.pauseTitle}"><span>{hs.lang.pauseText}</span></a></li><li class="highslide-next"><a href="#" title="{hs.lang.nextTitle}"><span>{hs.lang.nextText}</span></a></li><li class="highslide-move"><a href="#" title="{hs.lang.moveTitle}"><span>{hs.lang.moveText}</span></a></li><li class="highslide-full-expand"><a href="#" title="{hs.lang.fullExpandTitle}"><span>{hs.lang.fullExpandText}</span></a></li><li class="highslide-close"><a href="#" title="{hs.lang.closeTitle}" ><span>{hs.lang.closeText}</span></a></li></ul></div>'},preloadTheseImages:[],continuePreloading:true,expanders:[],overrides:["allowSizeReduction","anchor","align","targetX","targetY","outlineType","outlineWhileAnimating","captionId","captionText","captionEval","captionOverlay","headingId","headingText","headingEval","headingOverlay","dragByHeading","autoplay","numberPosition","transitions","dimmingOpacity","wrapperClassName","minWidth","minHeight","maxWidth","maxHeight","slideshowGroup","easing","easingClose","fadeInOut","src"],overlays:[],idCounter:0,oPos:{x:["leftpanel","left","center","right","rightpanel"],y:["above","top","middle","bottom","below"]},mouse:{},headingOverlay:{},captionOverlay:{},faders:[],slideshows:[],pendingOutlines:{},clones:{},ie:(document.all&&!window.opera),safari:/Safari/.test(navigator.userAgent),geckoMac:/Macintosh.+rv:1\.[0-8].+Gecko/.test(navigator.userAgent),$:function(a){return document.getElementById(a)},push:function(a,b){a[a.length]=b},createElement:function(a,f,e,d,c){var b=document.createElement(a);if(f){hs.setAttribs(b,f)}if(c){hs.setStyles(b,{padding:0,border:"none",margin:0})}if(e){hs.setStyles(b,e)}if(d){d.appendChild(b)}return b},setAttribs:function(b,c){for(var a in c){b[a]=c[a]}},setStyles:function(b,c){for(var a in c){if(hs.ie&&a=="opacity"){if(c[a]>0.99){b.style.removeAttribute("filter")}else{b.style.filter="alpha(opacity="+(c[a]*100)+")"}}else{b.style[a]=c[a]}}},ieVersion:function(){var a=navigator.appVersion.split("MSIE");return a[1]?parseFloat(a[1]):null},getPageSize:function(){var e=document,i=window,k=e.compatMode&&e.compatMode!="BackCompat"?e.documentElement:e.body;var g=e.body;var l=(i.innerWidth&&i.scrollMaxX)?i.innerWidth+i.scrollMaxX:Math.max(g.scrollWidth,g.offsetWidth),f=(i.innerHeight&&window.scrollMaxY)?i.innerHeight+i.scrollMaxY:Math.max(g.scrollHeight,g.offsetHeight),h=hs.ie?k.scrollWidth:(e.documentElement.clientWidth||self.innerWidth),c=hs.ie?Math.max(k.scrollHeight,k.clientHeight):(e.documentElement.clientHeight||self.innerHeight);var a=hs.ie?k.clientWidth:(e.documentElement.clientWidth||self.innerWidth),j=hs.ie?k.clientHeight:self.innerHeight;return{pageWidth:Math.max(h,l),pageHeight:Math.max(c,f),width:a,height:j,scrollLeft:hs.ie?k.scrollLeft:pageXOffset,scrollTop:hs.ie?k.scrollTop:pageYOffset}},getPosition:function(a){var b={x:a.offsetLeft,y:a.offsetTop};while(a.offsetParent){a=a.offsetParent;b.x+=a.offsetLeft;b.y+=a.offsetTop;if(a!=document.body&&a!=document.documentElement){b.x-=a.scrollLeft;b.y-=a.scrollTop}}return b},expand:function(b,g,d,c){if(!b){b=hs.createElement("a",null,{display:"none"},hs.container)}if(typeof b.getParams=="function"){return g}try{new hs.Expander(b,g,d);return false}catch(f){return true}},getElementByClass:function(e,c,d){var b=e.getElementsByTagName(c);for(var a=0;a<b.length;a++){if((new RegExp(d)).test(b[a].className)){return b[a]}}return null},replaceLang:function(c){c=c.replace(/\s/g," ");var b=/{hs\.lang\.([^}]+)\}/g,d=c.match(b),e;for(var a=0;a<d.length;a++){e=d[a].replace(b,"$1");if(typeof hs.lang[e]!="undefined"){c=c.replace(d[a],hs.lang[e])}}return c},focusTopmost:function(){var b=0,a=-1;for(var c=0;c<hs.expanders.length;c++){if(hs.expanders[c]){if(hs.expanders[c].wrapper.style.zIndex&&hs.expanders[c].wrapper.style.zIndex>b){b=hs.expanders[c].wrapper.style.zIndex;a=c}}}if(a==-1){hs.focusKey=-1}else{hs.expanders[a].focus()}},getParam:function(b,d){b.getParams=b.onclick;var c=b.getParams?b.getParams():null;b.getParams=null;return(c&&typeof c[d]!="undefined")?c[d]:(typeof hs[d]!="undefined"?hs[d]:null)},getSrc:function(b){var c=hs.getParam(b,"src");if(c){return c}return b.href},getNode:function(e){var c=hs.$(e),d=hs.clones[e],b={};if(!c&&!d){return null}if(!d){d=c.cloneNode(true);d.id="";hs.clones[e]=d;return c}else{return d.cloneNode(true)}},discardElement:function(a){hs.garbageBin.appendChild(a);hs.garbageBin.innerHTML=""},dim:function(a){if(!hs.dimmer){hs.dimmer=hs.createElement("div",{className:"highslide-dimming",owner:"",onclick:function(){if(hs.fireEvent(hs,"onDimmerClick")){hs.close()}}},{position:"absolute",left:0},hs.container,true);hs.addEventListener(window,"resize",hs.setDimmerSize)}hs.dimmer.style.display="";hs.setDimmerSize();hs.dimmer.owner+="|"+a.key;if(hs.geckoMac&&hs.dimmingGeckoFix){hs.dimmer.style.background="url("+hs.graphicsDir+"geckodimmer.png)"}else{hs.fade(hs.dimmer,0,a.dimmingOpacity,hs.dimmingDuration)}},undim:function(a){if(!hs.dimmer){return}if(typeof a!="undefined"){hs.dimmer.owner=hs.dimmer.owner.replace("|"+a,"")}if((typeof a!="undefined"&&hs.dimmer.owner!="")||(hs.upcoming&&hs.getParam(hs.upcoming,"dimmingOpacity"))){return}if(hs.geckoMac&&hs.dimmingGeckoFix){hs.dimmer.style.background="none"}else{hs.fade(hs.dimmer,hs.dimmingOpacity,0,hs.dimmingDuration,function(){hs.setStyles(hs.dimmer,{display:"none",width:0,height:0})})}},setDimmerSize:function(c){if(!hs.dimmer){return}var b=hs.getPageSize();var a=(hs.ie&&c&&c.wrapper)?parseInt(c.wrapper.style.top)+parseInt(c.wrapper.style.height)+(c.outline?c.outline.offset:0):0;hs.setStyles(hs.dimmer,{width:b.pageWidth+"px",height:Math.max(b.pageHeight,a)+"px"})},previousOrNext:function(b,f){hs.updateAnchors();var d=hs.last=hs.getExpander(b);try{var a=hs.upcoming=d.getAdjacentAnchor(f);a.onclick()}catch(c){hs.last=hs.upcoming=null}try{d.close()}catch(c){}return false},previous:function(a){return hs.previousOrNext(a,-1)},next:function(a){return hs.previousOrNext(a,1)},keyHandler:function(a){if(!a){a=window.event}if(!a.target){a.target=a.srcElement}if(typeof a.target.form!="undefined"){return true}if(!hs.fireEvent(hs,"onKeyDown",a)){return true}var b=hs.getExpander();var c=null;switch(a.keyCode){case 70:if(b){b.doFullExpand()}return true;case 32:c=2;break;case 34:case 39:case 40:c=1;break;case 8:case 33:case 37:case 38:c=-1;break;case 27:case 13:c=0}if(c!==null){if(c!=2){hs.removeEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler)}if(!hs.enableKeyListener){return true}if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}if(b){if(c==0){b.close()}else{if(c==2){if(b.slideshow){b.slideshow.hitSpace()}}else{if(b.slideshow){b.slideshow.pause()}hs.previousOrNext(b.key,c)}}return false}}return true},registerOverlay:function(a){hs.push(hs.overlays,a)},addSlideshow:function(b){var d=b.slideshowGroup;if(typeof d=="object"){for(var c=0;c<d.length;c++){var e={};for(var a in b){e[a]=b[a]}e.slideshowGroup=d[c];hs.push(hs.slideshows,e)}}else{hs.push(hs.slideshows,b)}},getWrapperKey:function(c,b){var e,d=/^highslide-wrapper-([0-9]+)$/;e=c;while(e.parentNode){if(e.id&&d.test(e.id)){return e.id.replace(d,"$1")}e=e.parentNode}if(!b){e=c;while(e.parentNode){if(e.tagName&&hs.isHsAnchor(e)){for(var a=0;a<hs.expanders.length;a++){var f=hs.expanders[a];if(f&&f.a==e){return a}}}e=e.parentNode}}return null},getExpander:function(b,a){if(typeof b=="undefined"){return hs.expanders[hs.focusKey]||null}if(typeof b=="number"){return hs.expanders[b]||null}if(typeof b=="string"){b=hs.$(b)}return hs.expanders[hs.getWrapperKey(b,a)]||null},isHsAnchor:function(b){return(b.onclick&&b.onclick.toString().replace(/\s/g," ").match(/hs.(htmlE|e)xpand/))},reOrder:function(){for(var a=0;a<hs.expanders.length;a++){if(hs.expanders[a]&&hs.expanders[a].isExpanded){hs.focusTopmost()}}},fireEvent:function(c,a,b){return c&&c[a]?(c[a](c,b)!==false):true},mouseClickHandler:function(d){if(!d){d=window.event}if(d.button>1){return true}if(!d.target){d.target=d.srcElement}var b=d.target;while(b.parentNode&&!(/highslide-(image|move|html|resize)/.test(b.className))){b=b.parentNode}var f=hs.getExpander(b);if(f&&(f.isClosing||!f.isExpanded)){return true}if(f&&d.type=="mousedown"){if(d.target.form){return true}var a=b.className.match(/highslide-(image|move|resize)/);if(a){hs.dragArgs={exp:f,type:a[1],left:f.x.pos,width:f.x.size,top:f.y.pos,height:f.y.size,clickX:d.clientX,clickY:d.clientY};hs.addEventListener(document,"mousemove",hs.dragHandler);if(d.preventDefault){d.preventDefault()}if(/highslide-(image|html)-blur/.test(f.content.className)){f.focus();hs.hasFocused=true}return false}}else{if(d.type=="mouseup"){hs.removeEventListener(document,"mousemove",hs.dragHandler);if(hs.dragArgs){if(hs.dragArgs.type=="image"){hs.dragArgs.exp.content.style.cursor=hs.styleRestoreCursor}var c=hs.dragArgs.hasDragged;if(!c&&!hs.hasFocused&&!/(move|resize)/.test(hs.dragArgs.type)){if(hs.fireEvent(f,"onImageClick")){f.close()}}else{if(c||(!c&&hs.hasHtmlExpanders)){hs.dragArgs.exp.doShowHide("hidden")}}if(c){hs.fireEvent(hs.dragArgs.exp,"onDrop",hs.dragArgs)}if(c){hs.setDimmerSize(f)}hs.hasFocused=false;hs.dragArgs=null}else{if(/highslide-image-blur/.test(b.className)){b.style.cursor=hs.styleRestoreCursor}}}}return false},dragHandler:function(c){if(!hs.dragArgs){return true}if(!c){c=window.event}var b=hs.dragArgs,d=b.exp;b.dX=c.clientX-b.clickX;b.dY=c.clientY-b.clickY;var f=Math.sqrt(Math.pow(b.dX,2)+Math.pow(b.dY,2));if(!b.hasDragged){b.hasDragged=(b.type!="image"&&f>0)||(f>(hs.dragSensitivity||5))}if(b.hasDragged&&c.clientX>5&&c.clientY>5){if(!hs.fireEvent(d,"onDrag",b)){return false}if(b.type=="resize"){d.resize(b)}else{d.moveTo(b.left+b.dX,b.top+b.dY);if(b.type=="image"){d.content.style.cursor="move"}}}return false},wrapperMouseHandler:function(c){try{if(!c){c=window.event}var b=/mouseover/i.test(c.type);if(!c.target){c.target=c.srcElement}if(hs.ie){c.relatedTarget=b?c.fromElement:c.toElement}var f=hs.getExpander(c.target);if(!f.isExpanded){return}if(!f||!c.relatedTarget||hs.getExpander(c.relatedTarget,true)==f||hs.dragArgs){return}hs.fireEvent(f,b?"onMouseOver":"onMouseOut",c);for(var a=0;a<f.overlays.length;a++){var d=hs.$("hsId"+f.overlays[a]);if(d&&d.hideOnMouseOut){var h=b?0:d.opacity,g=b?d.opacity:0;hs.fade(d,h,g)}}}catch(c){}},addEventListener:function(a,c,b){try{a.addEventListener(c,b,false)}catch(d){try{a.detachEvent("on"+c,b);a.attachEvent("on"+c,b)}catch(d){a["on"+c]=b}}},removeEventListener:function(a,c,b){try{a.removeEventListener(c,b,false)}catch(d){try{a.detachEvent("on"+c,b)}catch(d){a["on"+c]=null}}},preloadFullImage:function(b){if(hs.continuePreloading&&hs.preloadTheseImages[b]&&hs.preloadTheseImages[b]!="undefined"){var a=document.createElement("img");a.onload=function(){a=null;hs.preloadFullImage(b+1)};a.src=hs.preloadTheseImages[b]}},preloadImages:function(c){if(c&&typeof c!="object"){hs.numberOfImagesToPreload=c}var a=hs.getAnchors();for(var b=0;b<a.images.length&&b<hs.numberOfImagesToPreload;b++){hs.push(hs.preloadTheseImages,hs.getSrc(a.images[b]))}if(hs.outlineType){new hs.Outline(hs.outlineType,function(){hs.preloadFullImage(0)})}else{hs.preloadFullImage(0)}var d=hs.createElement("img",{src:hs.graphicsDir+hs.restoreCursor})},init:function(){if(!hs.container){hs.container=hs.createElement("div",{className:"highslide-container"},{position:"absolute",left:0,top:0,width:"100%",zIndex:hs.zIndexCounter,direction:"ltr"},document.body,true);hs.loading=hs.createElement("a",{className:"highslide-loading",title:hs.lang.loadingTitle,innerHTML:hs.lang.loadingText,href:"javascript:;"},{position:"absolute",top:"-9999px",opacity:hs.loadingOpacity,zIndex:1},hs.container);hs.garbageBin=hs.createElement("div",null,{display:"none"},hs.container);Math.linearTween=function(f,e,h,g){return h*f/g+e};Math.easeInQuad=function(f,e,h,g){return h*(f/=g)*f+e};Math.easeInOutQuad=function(f,e,h,g){if((f/=g/2)<1){return h/2*f*f+e}return -h/2*((--f)*(f-2)-1)+e};for(var a in hs.langDefaults){if(typeof hs[a]!="undefined"){hs.lang[a]=hs[a]}else{if(typeof hs.lang[a]=="undefined"&&typeof hs.langDefaults[a]!="undefined"){hs.lang[a]=hs.langDefaults[a]}}}hs.hideSelects=(hs.ie&&hs.ieVersion()<7);hs.hideIframes=((window.opera&&navigator.appVersion<9)||navigator.vendor=="KDE"||(hs.ie&&hs.ieVersion()<5.5));hs.fireEvent(this,"onActivate")}},domReady:function(){hs.isDomReady=true;hs.fixCursor();if(hs.onDomReady){hs.onDomReady()}},fixCursor:function(){var c,a,e,b=document.styleSheets,d=/^(url\().*?(zoomin\.cur.*?)$/;for(c=0;c<b.length;c++){for(a=0;a<b[c].rules.length;a++){e=b[c].rules[a];if(e.selectorText==".highslide IMG"&&d.test(e.style.cursor)){e.style.cursor=e.style.cursor.replace(d,"$1"+hs.graphicsDir+"$2");return}}}},updateAnchors:function(){var d=document.all||document.getElementsByTagName("*"),f=[],b=[],a={},e;for(var c=0;c<d.length;c++){e=hs.isHsAnchor(d[c]);if(e){hs.push(f,d[c]);if(e[0]=="hs.expand"){hs.push(b,d[c])}var h=hs.getParam(d[c],"slideshowGroup")||"none";if(!a[h]){a[h]=[]}hs.push(a[h],d[c])}}hs.anchors={all:f,groups:a,images:b};return hs.anchors},getAnchors:function(){return hs.anchors||hs.updateAnchors()},fade:function(d,c,a,b,h,g,f){if(typeof g=="undefined"){if(typeof b!="number"){b=250}if(b<25){hs.setStyles(d,{opacity:a});return}g=hs.faders.length;f=a>c?1:-1;var e=(25/(b-b%25))*Math.abs(c-a)}c=parseFloat(c);var j=(d.fade===0||d.fade===false||(d.fade==2&&hs.ie));d.style.visibility=((j?a:c)<=0)?"hidden":"visible";if(j||c<0||(f==1&&c>a)){if(h){h()}return}if(d.fading&&d.fading.i!=g){clearTimeout(hs.faders[d.fading.i]);c=d.fading.o}d.fading={i:g,o:c,step:(e||d.fading.step)};d.style.visibility=(c<=0)?"hidden":"visible";hs.setStyles(d,{opacity:c});hs.faders[g]=setTimeout(function(){hs.fade(d,c+d.fading.step*f,a,null,h,g,f)},25)},close:function(a){var b=hs.getExpander(a);if(b){b.close()}return false}};hs.Outline=function(g,e){this.onLoad=e;this.outlineType=g;var a=hs.ieVersion(),f;this.hasAlphaImageLoader=hs.ie&&a>=5.5&&a<7;if(!g){if(e){e()}return}hs.init();this.table=hs.createElement("table",{cellSpacing:0},{visibility:"hidden",position:"absolute",borderCollapse:"collapse",width:0},hs.container,true);var b=hs.createElement("tbody",null,null,this.table,1);this.td=[];for(var c=0;c<=8;c++){if(c%3==0){f=hs.createElement("tr",null,{height:"auto"},b,true)}this.td[c]=hs.createElement("td",null,null,f,true);var d=c!=4?{lineHeight:0,fontSize:0}:{position:"relative"};hs.setStyles(this.td[c],d)}this.td[4].className=g+" highslide-outline";this.preloadGraphic()};hs.Outline.prototype={preloadGraphic:function(){var b=hs.graphicsDir+(hs.outlinesDir||"outlines/")+this.outlineType+".png";var a=hs.safari?hs.container:null;this.graphic=hs.createElement("img",null,{position:"absolute",top:"-9999px"},a,true);var c=this;this.graphic.onload=function(){c.onGraphicLoad()};this.graphic.src=b},onGraphicLoad:function(){var d=this.offset=this.graphic.width/4,f=[[0,0],[0,-4],[-2,0],[0,-8],0,[-2,-8],[0,-2],[0,-6],[-2,-2]],c={height:(2*d)+"px",width:(2*d)+"px"};for(var b=0;b<=8;b++){if(f[b]){if(this.hasAlphaImageLoader){var a=(b==1||b==7)?"100%":this.graphic.width+"px";var e=hs.createElement("div",null,{width:"100%",height:"100%",position:"relative",overflow:"hidden"},this.td[b],true);hs.createElement("div",null,{filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale, src='"+this.graphic.src+"')",position:"absolute",width:a,height:this.graphic.height+"px",left:(f[b][0]*d)+"px",top:(f[b][1]*d)+"px"},e,true)}else{hs.setStyles(this.td[b],{background:"url("+this.graphic.src+") "+(f[b][0]*d)+"px "+(f[b][1]*d)+"px"})}if(window.opera&&(b==3||b==5)){hs.createElement("div",null,c,this.td[b],true)}hs.setStyles(this.td[b],c)}}this.graphic=null;if(hs.pendingOutlines[this.outlineType]){hs.pendingOutlines[this.outlineType].destroy()}hs.pendingOutlines[this.outlineType]=this;if(this.onLoad){this.onLoad()}},setPosition:function(b,c,a){c=c||{x:b.x.pos,y:b.y.pos,w:b.x.size+b.x.p1+b.x.p2,h:b.y.size+b.y.p1+b.y.p2};if(a){this.table.style.visibility=(c.h>=4*this.offset)?"visible":"hidden"}hs.setStyles(this.table,{left:(c.x-this.offset)+"px",top:(c.y-this.offset)+"px",width:(c.w+2*(b.x.cb+this.offset))+"px"});c.w+=2*(b.x.cb-this.offset);c.h+=+2*(b.y.cb-this.offset);hs.setStyles(this.td[4],{width:c.w>=0?c.w+"px":0,height:c.h>=0?c.h+"px":0});if(this.hasAlphaImageLoader){this.td[3].style.height=this.td[5].style.height=this.td[4].style.height}},destroy:function(a){if(a){this.table.style.visibility="hidden"}else{hs.discardElement(this.table)}}};hs.Dimension=function(b,a){this.exp=b;this.dim=a;this.ucwh=a=="x"?"Width":"Height";this.wh=this.ucwh.toLowerCase();this.uclt=a=="x"?"Left":"Top";this.lt=this.uclt.toLowerCase();this.ucrb=a=="x"?"Right":"Bottom";this.rb=this.ucrb.toLowerCase()};hs.Dimension.prototype={get:function(a){switch(a){case"loadingPos":return this.tpos+this.tb+(this.t-hs.loading["offset"+this.ucwh])/2;case"loadingPosXfade":return this.pos+this.cb+this.p1+(this.size-hs.loading["offset"+this.ucwh])/2;case"wsize":return this.size+2*this.cb+this.p1+this.p2;case"fitsize":return this.clientSize-this.marginMin-this.marginMax;case"opos":return this.pos-(this.exp.outline?this.exp.outline.offset:0);case"osize":return this.get("wsize")+(this.exp.outline?2*this.exp.outline.offset:0);case"imgPad":return this.imgSize?Math.round((this.size-this.imgSize)/2):0}},calcBorders:function(){this.cb=(this.exp.content["offset"+this.ucwh]-this.t)/2;this.marginMax=hs["margin"+this.ucrb]+2*this.cb},calcThumb:function(){this.t=this.exp.el[this.wh]?parseInt(this.exp.el[this.wh]):this.exp.el["offset"+this.ucwh];this.tpos=this.exp.tpos[this.dim];this.tb=(this.exp.el["offset"+this.ucwh]-this.t)/2;this.p1=this.p2=0;if(this.t==0&&this.tpos==0){this.tpos=(hs.page[this.wh]/2)+hs.page["scroll"+this.uclt]}},calcExpanded:function(){this.justify="auto";if(this.exp.align=="center"){this.justify="center"}else{if(new RegExp(this.lt).test(this.exp.anchor)){this.justify=null}else{if(new RegExp(this.rb).test(this.exp.anchor)){this.justify="max"}}}this.pos=this.tpos-this.cb+this.tb;this.size=Math.min(this.full,this.exp["max"+this.ucwh]||this.full);this.minSize=this.exp.allowSizeReduction?Math.min(this.exp["min"+this.ucwh],this.full):this.full;this.target=this.exp["target"+this.dim.toUpperCase()];this.marginMin=hs["margin"+this.uclt];this.scroll=hs.page["scroll"+this.uclt];this.clientSize=hs.page[this.wh]},setSize:function(a){this.size=a;this.exp.content.style[this.wh]=a+"px";this.exp.wrapper.style[this.wh]=this.get("wsize")+"px";if(this.exp.outline){this.exp.outline.setPosition(this.exp)}if(this.dim=="x"&&this.exp.overlayBox){this.exp.sizeOverlayBox(true)}if(this.dim=="x"&&this.exp.slideshow&&this.exp.isImage){if(a==this.full){this.exp.slideshow.disable("full-expand")}else{this.exp.slideshow.enable("full-expand")}}},setPos:function(a){this.pos=a;this.exp.wrapper.style[this.lt]=a+"px";if(this.exp.outline){this.exp.outline.setPosition(this.exp)}}};hs.Expander=function(k,f,b,l){if(document.readyState&&hs.ie&&!hs.isDomReady){hs.onDomReady=function(){new hs.Expander(k,f,b,l)};return}this.a=k;this.custom=b;this.contentType=l||"image";this.isImage=!this.isHtml;hs.continuePreloading=false;this.overlays=[];this.last=hs.last;hs.last=null;hs.init();var m=this.key=hs.expanders.length;for(var g=0;g<hs.overrides.length;g++){var c=hs.overrides[g];this[c]=f&&typeof f[c]!="undefined"?f[c]:hs[c]}if(!this.src){this.src=k.href}var d=(f&&f.thumbnailId)?hs.$(f.thumbnailId):k;d=this.thumb=d.getElementsByTagName("img")[0]||d;this.thumbsUserSetId=d.id||k.id;if(!hs.fireEvent(this,"onInit")){return true}for(var g=0;g<hs.expanders.length;g++){if(hs.expanders[g]&&hs.expanders[g].a==k&&!(this.last&&this.transitions[1]=="crossfade")){hs.expanders[g].focus();return false}}for(var g=0;g<hs.expanders.length;g++){if(hs.expanders[g]&&hs.expanders[g].thumb!=d&&!hs.expanders[g].onLoadStarted){hs.expanders[g].cancelLoading()}}hs.expanders[this.key]=this;if(!hs.allowMultipleInstances){if(hs.expanders[m-1]){hs.expanders[m-1].close()}if(typeof hs.focusKey!="undefined"&&hs.expanders[hs.focusKey]){hs.expanders[hs.focusKey].close()}}this.el=d;this.tpos=hs.getPosition(d);hs.page=hs.getPageSize();var j=this.x=new hs.Dimension(this,"x");j.calcThumb();var h=this.y=new hs.Dimension(this,"y");h.calcThumb();this.wrapper=hs.createElement("div",{id:"highslide-wrapper-"+this.key,className:this.wrapperClassName},{visibility:"hidden",position:"absolute",zIndex:hs.zIndexCounter++},null,true);this.wrapper.onmouseover=this.wrapper.onmouseout=hs.wrapperMouseHandler;if(this.contentType=="image"&&this.outlineWhileAnimating==2){this.outlineWhileAnimating=0}if(!this.outlineType||(this.last&&this.isImage&&this.transitions[1]=="crossfade")){this[this.contentType+"Create"]()}else{if(hs.pendingOutlines[this.outlineType]){this.connectOutline();this[this.contentType+"Create"]()}else{this.showLoading();var e=this;new hs.Outline(this.outlineType,function(){e.connectOutline();e[e.contentType+"Create"]()})}}return true};hs.Expander.prototype={connectOutline:function(){var a=this.outline=hs.pendingOutlines[this.outlineType];a.table.style.zIndex=this.wrapper.style.zIndex;hs.pendingOutlines[this.outlineType]=null},showLoading:function(){if(this.onLoadStarted||this.loading){return}this.loading=hs.loading;var c=this;this.loading.onclick=function(){c.cancelLoading()};if(!hs.fireEvent(this,"onShowLoading")){return}var c=this,a=this.x.get("loadingPos")+"px",b=this.y.get("loadingPos")+"px";if(!d&&this.last&&this.transitions[1]=="crossfade"){var d=this.last}if(d){a=d.x.get("loadingPosXfade")+"px";b=d.y.get("loadingPosXfade")+"px";this.loading.style.zIndex=hs.zIndexCounter++}setTimeout(function(){if(c.loading){hs.setStyles(c.loading,{left:a,top:b,zIndex:hs.zIndexCounter++})}},100)},imageCreate:function(){var b=this;var a=document.createElement("img");this.content=a;a.onload=function(){if(hs.expanders[b.key]){b.contentLoaded()}};if(hs.blockRightClick){a.oncontextmenu=function(){return false}}a.className="highslide-image";hs.setStyles(a,{visibility:"hidden",display:"block",position:"absolute",maxWidth:"9999px",zIndex:3});a.title=hs.lang.restoreTitle;if(hs.safari){hs.container.appendChild(a)}if(hs.ie&&hs.flushImgSize){a.src=null}a.src=this.src;this.showLoading()},contentLoaded:function(){try{if(!this.content){return}this.content.onload=null;if(this.onLoadStarted){return}else{this.onLoadStarted=true}var j=this.x,g=this.y;if(this.loading){hs.setStyles(this.loading,{top:"-9999px"});this.loading=null;hs.fireEvent(this,"onHideLoading")}j.full=this.content.width;g.full=this.content.height;hs.setStyles(this.content,{width:this.x.t+"px",height:this.y.t+"px"});this.wrapper.appendChild(this.content);hs.setStyles(this.wrapper,{left:this.x.tpos+"px",top:this.y.tpos+"px"});hs.container.appendChild(this.wrapper);j.calcBorders();g.calcBorders();this.initSlideshow();this.getOverlays();var f=j.full/g.full;j.calcExpanded();this.justify(j);g.calcExpanded();this.justify(g);if(this.overlayBox){this.sizeOverlayBox(0,1)}if(this.allowSizeReduction){this.correctRatio(f);var k=this.slideshow;if(k&&this.last&&k.controls&&k.fixedControls){var h=k.overlayOptions.position||"",a;for(var c in hs.oPos){for(var b=0;b<5;b++){a=this[c];if(h.match(hs.oPos[c][b])){a.pos=this.last[c].pos+(this.last[c].p1-a.p1)+(this.last[c].size-a.size)*[0,0,0.5,1,1][b];if(k.fixedControls=="fit"){if(a.pos+a.size+a.p1+a.p2>a.scroll+a.clientSize-a.marginMax){a.pos=a.scroll+a.clientSize-a.size-a.marginMin-a.marginMax-a.p1-a.p2}if(a.pos<a.scroll+a.marginMin){a.pos=a.scroll+a.marginMin}}}}}}if(this.isImage&&this.x.full>this.x.size){this.createFullExpand();if(this.overlays.length==1){this.sizeOverlayBox()}}}this.show()}catch(d){window.location.href=this.src}},justify:function(f,b){var g,h=f.target,e=f==this.x?"x":"y";if(h&&h.match(/ /)){g=h.split(" ");h=g[0]}if(h&&hs.$(h)){f.pos=hs.getPosition(hs.$(h))[e];if(g&&g[1]&&g[1].match(/^[-]?[0-9]+px$/)){f.pos+=parseInt(g[1])}}else{if(f.justify=="auto"||f.justify=="center"){var d=false;var a=hs.allowSizeReduction;if(f.justify=="center"){f.pos=Math.round(f.scroll+(f.clientSize-f.marginMax-f.get("wsize"))/2)}else{f.pos=Math.round(f.pos-((f.get("wsize")-f.t)/2))}if(f.pos<f.scroll+f.marginMin){f.pos=f.scroll+f.marginMin;d=true}if(!b&&f.size<f.minSize){f.size=f.minSize;a=false}if(f.pos+f.get("wsize")>f.scroll+f.clientSize-f.marginMax){if(!b&&d&&a){f.size=f.get("fitsize")}else{if(f.get("wsize")<f.get("fitsize")){f.pos=f.scroll+f.clientSize-f.marginMax-f.get("wsize")}else{f.pos=f.scroll+f.marginMin;if(!b&&a){f.size=f.get("fitsize")}}}}if(!b&&f.size<f.minSize){f.size=f.minSize;a=false}}else{if(f.justify=="max"){f.pos=Math.floor(f.pos-f.size+f.t)}}}if(f.pos<f.marginMin){var c=f.pos;f.pos=f.marginMin;if(a&&!b){f.size=f.size-(f.pos-c)}}},correctRatio:function(b){var a=this.x,e=this.y;var d=false;if(a.size/e.size>b){a.size=e.size*b;if(a.size<a.minSize){if(hs.padToMinWidth){a.imgSize=a.size}a.size=a.minSize;if(!a.imgSize){e.size=a.size/b}}d=true}else{if(a.size/e.size<b){var c=e.size;e.size=a.size/b;d=true}}this.fitOverlayBox(b);if(d){a.pos=a.tpos-a.cb+a.tb;a.minSize=a.size;this.justify(a,true);e.pos=e.tpos-e.cb+e.tb;e.minSize=e.size;this.justify(e,true);if(this.overlayBox){this.sizeOverlayBox()}}},fitOverlayBox:function(b){var a=this.x,c=this.y;if(this.overlayBox){while(c.size>this.minHeight&&a.size>this.minWidth&&c.get("wsize")>c.get("fitsize")){c.size-=10;if(b){a.size=c.size*b}this.sizeOverlayBox(0,1)}}},show:function(){this.doShowHide("hidden");hs.fireEvent(this,"onBeforeExpand");this.changeSize(1,{xpos:this.x.tpos+this.x.tb-this.x.cb,ypos:this.y.tpos+this.y.tb-this.y.cb,xsize:this.x.t,ysize:this.y.t,xp1:0,xp2:0,yp1:0,yp2:0,ximgSize:this.x.t,ximgPad:0,o:hs.outlineStartOffset},{xpos:this.x.pos,ypos:this.y.pos,xsize:this.x.size,ysize:this.y.size,xp1:this.x.p1,yp1:this.y.p1,xp2:this.x.p2,yp2:this.y.p2,ximgSize:this.x.imgSize,ximgPad:this.x.get("imgPad"),o:this.outline?this.outline.offset:0},hs.expandDuration)},changeSize:function(e,k,l,a){var n=this.transitions,f=e?(this.last?this.last.a:null):hs.upcoming,m=(n[1]&&f&&hs.getParam(f,"transitions")[1]==n[1])?n[1]:n[0];if(this[m]&&m!="expand"){this[m](e,k,l);return}if(e){hs.setStyles(this.wrapper,{opacity:1})}if(this.outline&&!this.outlineWhileAnimating){if(e){this.outline.setPosition(this)}else{this.outline.destroy()}}if(!e&&this.overlayBox){if(this.slideshow){var h=this.slideshow.controls;if(h&&hs.getExpander(h)==this){h.parentNode.removeChild(h)}}hs.discardElement(this.overlayBox)}if(this.fadeInOut){k.op=e?0:1;l.op=e}var m,b=this,g=Math[this.easing]||Math.easeInQuad,j=(e?hs.expandSteps:hs.restoreSteps)||parseInt(a/25)||1;if(!e){g=Math[this.easingClose]||g}for(var d=1;d<=j;d++){m=Math.round(d*(a/j));(function(){var o=d,i={};for(var c in k){i[c]=g(m,k[c],l[c]-k[c],a);if(isNaN(i[c])){i[c]=l[c]}if(!/^op$/.test(c)){i[c]=Math.round(i[c])}}setTimeout(function(){if(e&&o==1){b.content.style.visibility="visible";b.a.className+=" highslide-active-anchor"}b.setSize(i)},m)})()}if(e){setTimeout(function(){if(b.outline){b.outline.table.style.visibility="visible"}},m);setTimeout(function(){b.afterExpand()},m+50)}else{setTimeout(function(){b.afterClose()},m)}},setSize:function(c){try{if(c.op){hs.setStyles(this.wrapper,{opacity:c.op})}hs.setStyles(this.wrapper,{width:(c.xsize+c.xp1+c.xp2+2*this.x.cb)+"px",height:(c.ysize+c.yp1+c.yp2+2*this.y.cb)+"px",left:c.xpos+"px",top:c.ypos+"px"});hs.setStyles(this.content,{top:c.yp1+"px",left:(c.xp1+c.ximgPad)+"px",width:(c.ximgSize||c.xsize)+"px",height:c.ysize+"px"});if(this.outline&&this.outlineWhileAnimating){var b=this.outline.offset-c.o;this.outline.setPosition(this,{x:c.xpos+b,y:c.ypos+b,w:c.xsize+c.xp1+c.xp2+-2*b,h:c.ysize+c.yp1+c.yp2+-2*b},1)}this.wrapper.style.visibility="visible"}catch(a){window.location.href=this.src}},fade:function(a,g,f){this.outlineWhileAnimating=false;var e=this,d=a?250:0;if(a){hs.setStyles(this.wrapper,{opacity:0});this.setSize(f);this.content.style.visibility="visible";hs.fade(this.wrapper,0,1)}if(this.outline){this.outline.table.style.zIndex=this.wrapper.style.zIndex;var b=a||-1;for(var c=g.o;b*c<=b*f.o;c+=b,d+=25){(function(){var h=a?f.o-c:g.o-c;setTimeout(function(){e.outline.setPosition(e,{x:(e.x.pos+h),y:(e.y.pos+h),w:(e.x.size-2*h+e.x.p1+e.x.p2),h:(e.y.size-2*h+e.y.p1+e.y.p2)},1)},d)})()}}if(a){setTimeout(function(){e.afterExpand()},d+50)}else{setTimeout(function(){if(e.outline){e.outline.destroy(e.preserveContent)}hs.fade(e.wrapper,1,0);setTimeout(function(){e.afterClose()},250)},d)}},crossfade:function(c,k,l){if(!c){return}var a=this,h=parseInt(hs.transitionDuration/25)||1,m=this.last;hs.removeEventListener(document,"mousemove",hs.dragHandler);hs.setStyles(this.content,{width:(l.ximgSize||l.xsize)+"px",height:l.ysize+"px"});this.outline=this.last.outline;this.last.outline=null;this.fadeBox=hs.createElement("div",{className:"highslide-image"},{position:"absolute",zIndex:4,overflow:"hidden",display:"none"});var g={oldImg:m,newImg:this};for(var j in g){this[j]=g[j].content.cloneNode(1);hs.setStyles(this[j],{position:"absolute",border:0,visibility:"visible"});this.fadeBox.appendChild(this[j])}this.wrapper.appendChild(this.fadeBox);k={xpos:m.x.pos,xsize:m.x.size,xp1:m.x.p1,xp2:m.x.p2,ximgSize:m.x.imgSize||m.x.size,ximgPad:m.x.get("imgPad"),ypos:m.y.pos,ysize:m.y.size,yp1:m.y.p1,yp2:m.y.p2,o:1/h};l.ysize=this.y.size;l.o=1;if(!l.ximgSize){l.ximgSize=l.xsize}var n,f=Math.easeInOutQuad;if(h>1){this.crossfadeStep(k)}function e(){if(a.overlayBox){a.overlayBox.className="";a.wrapper.appendChild(a.overlayBox);for(var p=0;p<a.last.overlays.length;p++){var o=hs.$("hsId"+a.last.overlays[p]);if(o.reuse===a.key){a.overlayBox.appendChild(o)}else{hs.fade(o,o.opacity,0)}}}a.fadeBox.style.display="";a.last.content.style.display="none"}if(/rv:1\.[0-8].+Gecko/.test(navigator.userAgent)){setTimeout(e,0)}else{e()}if(hs.safari){var d=navigator.userAgent.match(/Safari\/([0-9]{3})/);if(d&&parseInt(d[1])<525){this.wrapper.style.visibility="visible"}}for(var b=1;b<=h;b++){n=Math.round(b*(hs.transitionDuration/h));(function(){var o={},p=b;for(var i in k){var q=f(n,k[i],l[i]-k[i],hs.transitionDuration);if(isNaN(q)){q=l[i]}o[i]=(i!="o")?Math.round(q):q}setTimeout(function(){a.crossfadeStep(o)},n)})()}setTimeout(function(){a.crossfadeEnd()},n+100)},crossfadeStep:function(a){try{if(this.outline){this.outline.setPosition(this,{x:a.xpos,y:a.ypos,w:a.xsize+a.xp1+a.xp2,h:a.ysize+a.yp1+a.yp2},1)}this.last.wrapper.style.clip="rect("+(a.ypos-this.last.y.pos)+"px, "+(a.xsize+a.xp1+a.xp2+a.xpos+2*this.last.x.cb-this.last.x.pos)+"px, "+(a.ysize+a.yp1+a.yp2+a.ypos+2*this.last.y.cb-this.last.y.pos)+"px, "+(a.xpos-this.last.x.pos)+"px)";hs.setStyles(this.content,{top:a.yp1+"px",left:(a.xp1+this.x.get("imgPad"))+"px",marginTop:(this.y.pos-a.ypos)+"px",marginLeft:(this.x.pos-a.xpos)+"px"});hs.setStyles(this.wrapper,{top:a.ypos+"px",left:a.xpos+"px",width:(a.xp1+a.xp2+a.xsize+2*this.x.cb)+"px",height:(a.yp1+a.yp2+a.ysize+2*this.y.cb)+"px"});hs.setStyles(this.fadeBox,{width:(a.ximgSize||a.xsize)+"px",height:a.ysize+"px",left:(a.xp1+a.ximgPad)+"px",top:a.yp1+"px",visibility:"visible"});hs.setStyles(this.oldImg,{top:(this.last.y.pos-a.ypos+this.last.y.p1-a.yp1)+"px",left:(this.last.x.pos-a.xpos+this.last.x.p1-a.xp1+this.last.x.get("imgPad")-a.ximgPad)+"px"});hs.setStyles(this.newImg,{opacity:a.o,top:(this.y.pos-a.ypos+this.y.p1-a.yp1)+"px",left:(this.x.pos-a.xpos+this.x.p1-a.xp1+this.x.get("imgPad")-a.ximgPad)+"px"});hs.setStyles(this.overlayBox,{width:a.xsize+"px",height:a.ysize+"px",left:(a.xp1+this.x.cb)+"px",top:(a.yp1+this.y.cb)+"px"})}catch(b){}},crossfadeEnd:function(){this.wrapper.style.background=this.wrapperBG||"";this.wrapper.style.visibility=this.content.style.visibility="visible";this.fadeBox.style.display="none";this.a.className+=" highslide-active-anchor";this.afterExpand();this.last.afterClose()},reuseOverlay:function(d,c){if(!this.last){return false}for(var b=0;b<this.last.overlays.length;b++){var a=hs.$("hsId"+this.last.overlays[b]);if(a&&a.hsId==d.hsId){this.genOverlayBox();a.reuse=this.key;hs.push(this.overlays,this.last.overlays[b]);return true}}return false},afterExpand:function(){this.isExpanded=true;this.focus();if(this.dimmingOpacity){hs.dim(this)}if(hs.upcoming&&hs.upcoming==this.a){hs.upcoming=null}this.prepareNextOutline();var c=hs.page,b=hs.mouse.x+c.scrollLeft,a=hs.mouse.y+c.scrollTop;this.mouseIsOver=this.x.pos<b&&b<this.x.pos+this.x.get("wsize")&&this.y.pos<a&&a<this.y.pos+this.y.get("wsize");if(this.overlayBox){this.showOverlays()}hs.fireEvent(this,"onAfterExpand")},prepareNextOutline:function(){var a=this.key;var b=this.outlineType;new hs.Outline(b,function(){try{hs.expanders[a].preloadNext()}catch(c){}})},preloadNext:function(){var b=this.getAdjacentAnchor(1);if(b&&b.onclick.toString().match(/hs\.expand/)){var a=hs.createElement("img",{src:hs.getSrc(b)})}},getAdjacentAnchor:function(c){var b=this.getAnchorIndex(),a=hs.anchors.groups[this.slideshowGroup||"none"];if(!a[b+c]&&this.slideshow&&this.slideshow.repeat){if(c==1){return a[0]}else{if(c==-1){return a[a.length-1]}}}return a[b+c]||null},getAnchorIndex:function(){var a=hs.anchors.groups[this.slideshowGroup||"none"];for(var b=0;b<a.length;b++){if(a[b]==this.a){return b}}return null},getNumber:function(){if(this[this.numberPosition]){var a=hs.anchors.groups[this.slideshowGroup||"none"];var b=hs.lang.number.replace("%1",this.getAnchorIndex()+1).replace("%2",a.length);this[this.numberPosition].innerHTML='<div class="highslide-number">'+b+"</div>"+this[this.numberPosition].innerHTML}},initSlideshow:function(){if(this.slideshow){return}if(!this.last){for(var b=0;b<hs.slideshows.length;b++){var a=hs.slideshows[b],c=a.slideshowGroup;if(typeof c=="undefined"||c===null||c===this.slideshowGroup){this.slideshow=new hs.Slideshow(a)}}}else{this.slideshow=this.last.slideshow}var a=this.slideshow;if(!a){return}var e=a.exp=this;a.checkFirstAndLast();a.disable("full-expand");if(a.controls){var d=a.overlayOptions||{};d.overlayId=a.controls;d.hsId="controls";this.createOverlay(d)}if(!this.last&&this.autoplay){a.play(true)}if(a.autoplay){a.autoplay=setTimeout(function(){hs.next(e.key)},(a.interval||500))}},cancelLoading:function(){hs.expanders[this.key]=null;if(hs.upcoming==this.a){hs.upcoming=null}hs.undim();if(this.loading){hs.loading.style.left="-9999px"}hs.fireEvent(this,"onHideLoading")},writeCredits:function(){if(this.credits){return}this.credits=hs.createElement("a",{href:hs.creditsHref,className:"highslide-credits",innerHTML:hs.lang.creditsText,title:hs.lang.creditsTitle});this.createOverlay({overlayId:this.credits,position:"top left",hsId:"credits"})},getInline:function(types,addOverlay){for(var i=0;i<types.length;i++){var type=types[i],s=null;if(type=="caption"&&!hs.fireEvent(this,"onBeforeGetCaption")){return}else{if(type=="heading"&&!hs.fireEvent(this,"onBeforeGetHeading")){return}}if(!this[type+"Id"]&&this.thumbsUserSetId){this[type+"Id"]=type+"-for-"+this.thumbsUserSetId}if(this[type+"Id"]){this[type]=hs.getNode(this[type+"Id"])}if(!this[type]&&!this[type+"Text"]&&this[type+"Eval"]){try{s=eval(this[type+"Eval"])}catch(e){}}if(!this[type]&&this[type+"Text"]){s=this[type+"Text"]}if(!this[type]&&!s){var next=this.a.nextSibling;while(next&&!hs.isHsAnchor(next)){if((new RegExp("highslide-"+type)).test(next.className||null)){this[type]=next.cloneNode(1);break}next=next.nextSibling}}if(!this[type]&&!s&&this.numberPosition==type){s="\n"}if(!this[type]&&s){this[type]=hs.createElement("div",{className:"highslide-"+type,innerHTML:s})}if(addOverlay&&this[type]){var o={position:(type=="heading")?"above":"below"};for(var x in this[type+"Overlay"]){o[x]=this[type+"Overlay"][x]}o.overlayId=this[type];this.createOverlay(o)}}},doShowHide:function(a){if(hs.hideSelects){this.showHideElements("SELECT",a)}if(hs.hideIframes){this.showHideElements("IFRAME",a)}if(hs.geckoMac){this.showHideElements("*",a)}},showHideElements:function(c,b){var e=document.getElementsByTagName(c);var a=c=="*"?"overflow":"visibility";for(var f=0;f<e.length;f++){if(a=="visibility"||(document.defaultView.getComputedStyle(e[f],"").getPropertyValue("overflow")=="auto"||e[f].getAttribute("hidden-by")!=null)){var h=e[f].getAttribute("hidden-by");if(b=="visible"&&h){h=h.replace("["+this.key+"]","");e[f].setAttribute("hidden-by",h);if(!h){e[f].style[a]=e[f].origProp}}else{if(b=="hidden"){var k=hs.getPosition(e[f]);k.w=e[f].offsetWidth;k.h=e[f].offsetHeight;if(!this.dimmingOpacity){var j=(k.x+k.w<this.x.get("opos")||k.x>this.x.get("opos")+this.x.get("osize"));var g=(k.y+k.h<this.y.get("opos")||k.y>this.y.get("opos")+this.y.get("osize"))}var d=hs.getWrapperKey(e[f]);if(!j&&!g&&d!=this.key){if(!h){e[f].setAttribute("hidden-by","["+this.key+"]");e[f].origProp=e[f].style[a];e[f].style[a]="hidden"}else{if(!h.match("["+this.key+"]")){e[f].setAttribute("hidden-by",h+"["+this.key+"]")}}}else{if((h=="["+this.key+"]"||hs.focusKey==d)&&d!=this.key){e[f].setAttribute("hidden-by","");e[f].style[a]=e[f].origProp||""}else{if(h&&h.match("["+this.key+"]")){e[f].setAttribute("hidden-by",h.replace("["+this.key+"]",""))}}}}}}}},focus:function(){this.wrapper.style.zIndex=hs.zIndexCounter++;for(var a=0;a<hs.expanders.length;a++){if(hs.expanders[a]&&a==hs.focusKey){var b=hs.expanders[a];b.content.className+=" highslide-"+b.contentType+"-blur";b.content.style.cursor=hs.ie?"hand":"pointer";b.content.title=hs.lang.focusTitle;hs.fireEvent(this,"onBlur")}}if(this.outline){this.outline.table.style.zIndex=this.wrapper.style.zIndex}this.content.className="highslide-"+this.contentType;this.content.title=hs.lang.restoreTitle;hs.styleRestoreCursor=window.opera?"pointer":"url("+hs.graphicsDir+hs.restoreCursor+"), pointer";if(hs.ie&&hs.ieVersion()<6){hs.styleRestoreCursor="hand"}this.content.style.cursor=hs.styleRestoreCursor;hs.focusKey=this.key;hs.addEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler);hs.fireEvent(this,"onFocus")},moveTo:function(a,b){this.x.setPos(a);this.y.setPos(b)},resize:function(d){var a,b,c=d.width/d.height;a=Math.max(d.width+d.dX,Math.min(this.minWidth,this.x.full));if(this.isImage&&Math.abs(a-this.x.full)<12){a=this.x.full}b=a/c;if(b<Math.min(this.minHeight,this.y.full)){b=Math.min(this.minHeight,this.y.full);if(this.isImage){a=b*c}}this.resizeTo(a,b)},resizeTo:function(a,b){this.y.setSize(b);this.x.setSize(a)},close:function(){if(this.isClosing||!this.isExpanded||(hs.upcoming&&this.transitions[1]=="crossfade")){return}this.isClosing=true;if(!hs.fireEvent(this,"onBeforeClose")){return}if(this.slideshow&&!hs.upcoming){this.slideshow.pause()}hs.removeEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler);try{this.content.style.cursor="default";this.changeSize(0,{xpos:this.x.pos,ypos:this.y.pos,xsize:this.x.size,ysize:this.y.size,xp1:this.x.p1,yp1:this.y.p1,xp2:this.x.p2,yp2:this.y.p2,ximgSize:this.x.imgSize,ximgPad:this.x.get("imgPad"),o:this.outline?this.outline.offset:0},{xpos:this.x.tpos-this.x.cb+this.x.tb,ypos:this.y.tpos-this.y.cb+this.y.tb,xsize:this.x.t,ysize:this.y.t,xp1:0,yp1:0,xp2:0,yp2:0,ximgSize:this.x.imgSize?this.x.t:null,ximgPad:0,o:hs.outlineStartOffset},hs.restoreDuration)}catch(a){this.afterClose()}},createOverlay:function(d){var c=d.overlayId;if(typeof c=="string"){c=hs.getNode(c)}if(!c||typeof c=="string"){return}if(!hs.fireEvent(this,"onCreateOverlay",{overlay:c})){return}c.style.display="block";d.hsId=d.hsId||d.overlayId;if(this.transitions[1]=="crossfade"&&this.reuseOverlay(d,c)){return}this.genOverlayBox();var b=d.width&&/^[0-9]+(px|%)$/.test(d.width)?d.width:"auto";if(/^(left|right)panel$/.test(d.position)&&!/^[0-9]+px$/.test(d.width)){b="200px"}var a=hs.createElement("div",{id:"hsId"+hs.idCounter++,hsId:d.hsId},{position:"absolute",visibility:"hidden",width:b,direction:hs.lang.cssDirection||""},this.overlayBox,true);a.appendChild(c);hs.setAttribs(a,{hideOnMouseOut:d.hideOnMouseOut,opacity:d.opacity||1,hsPos:d.position,fade:d.fade});if(this.gotOverlays){this.positionOverlay(a);if(!a.hideOnMouseOut||this.mouseIsOver){hs.fade(a,0,a.opacity)}}hs.push(this.overlays,hs.idCounter-1)},positionOverlay:function(a){var b=a.hsPos||"middle center";if(/left$/.test(b)){a.style.left=0}if(/center$/.test(b)){hs.setStyles(a,{left:"50%",marginLeft:"-"+Math.round(a.offsetWidth/2)+"px"})}if(/right$/.test(b)){a.style.right=0}if(/^leftpanel$/.test(b)){hs.setStyles(a,{right:"100%",marginRight:this.x.cb+"px",top:-this.y.cb+"px",bottom:-this.y.cb+"px",overflow:"auto"});this.x.p1=a.offsetWidth}else{if(/^rightpanel$/.test(b)){hs.setStyles(a,{left:"100%",marginLeft:this.x.cb+"px",top:-this.y.cb+"px",bottom:-this.y.cb+"px",overflow:"auto"});this.x.p2=a.offsetWidth}}if(/^top/.test(b)){a.style.top=0}if(/^middle/.test(b)){hs.setStyles(a,{top:"50%",marginTop:"-"+Math.round(a.offsetHeight/2)+"px"})}if(/^bottom/.test(b)){a.style.bottom=0}if(/^above$/.test(b)){hs.setStyles(a,{left:(-this.x.p1-this.x.cb)+"px",right:(-this.x.p2-this.x.cb)+"px",bottom:"100%",marginBottom:this.y.cb+"px",width:"auto"});this.y.p1=a.offsetHeight}else{if(/^below$/.test(b)){hs.setStyles(a,{position:"relative",left:(-this.x.p1-this.x.cb)+"px",right:(-this.x.p2-this.x.cb)+"px",top:"100%",marginTop:this.y.cb+"px",width:"auto"});this.y.p2=a.offsetHeight;a.style.position="absolute"}}},getOverlays:function(){this.getInline(["heading","caption"],true);this.getNumber();if(this.caption){hs.fireEvent(this,"onAfterGetCaption")}if(this.heading){hs.fireEvent(this,"onAfterGetHeading")}if(this.heading&&this.dragByHeading){this.heading.className+=" highslide-move"}if(hs.showCredits){this.writeCredits()}for(var a=0;a<hs.overlays.length;a++){var d=hs.overlays[a],e=d.thumbnailId,b=d.slideshowGroup;if((!e&&!b)||(e&&e==this.thumbsUserSetId)||(b&&b===this.slideshowGroup)){this.createOverlay(d)}}var c=[];for(var a=0;a<this.overlays.length;a++){var d=hs.$("hsId"+this.overlays[a]);if(/panel$/.test(d.hsPos)){this.positionOverlay(d)}else{hs.push(c,d)}}for(var a=0;a<c.length;a++){this.positionOverlay(c[a])}this.gotOverlays=true},genOverlayBox:function(){if(!this.overlayBox){this.overlayBox=hs.createElement("div",{className:this.wrapperClassName},{position:"absolute",width:this.x.size?this.x.size+"px":this.x.full+"px",height:0,visibility:"hidden",overflow:"hidden",zIndex:hs.ie?4:null},hs.container,true)}},sizeOverlayBox:function(c,a){hs.setStyles(this.overlayBox,{width:this.x.size+"px",height:this.y.size+"px"});if(c||a){for(var b=0;b<this.overlays.length;b++){var d=hs.$("hsId"+this.overlays[b]);if(d&&/^(above|below)$/.test(d.hsPos)){if(hs.ie&&(hs.ieVersion()<=6||document.compatMode=="BackCompat")){d.style.width=(this.overlayBox.offsetWidth+2*this.x.cb+this.x.p1+this.x.p2)+"px"}this.y[d.hsPos=="above"?"p1":"p2"]=d.offsetHeight}}}if(c){hs.setStyles(this.content,{top:this.y.p1+"px"});hs.setStyles(this.overlayBox,{top:(this.y.p1+this.y.cb)+"px"})}},showOverlays:function(){var a=this.overlayBox;a.className="";hs.setStyles(a,{top:(this.y.p1+this.y.cb)+"px",left:(this.x.p1+this.x.cb)+"px",overflow:"visible"});if(hs.safari){a.style.visibility="visible"}this.wrapper.appendChild(a);for(var c=0;c<this.overlays.length;c++){var d=hs.$("hsId"+this.overlays[c]);d.style.zIndex=d.hsId=="controls"?5:4;if(!d.hideOnMouseOut||this.mouseIsOver){hs.fade(d,0,d.opacity)}}},createFullExpand:function(){if(this.slideshow&&this.slideshow.controls){this.slideshow.enable("full-expand");return}this.fullExpandLabel=hs.createElement("a",{href:"javascript:hs.expanders["+this.key+"].doFullExpand();",title:hs.lang.fullExpandTitle,className:"highslide-full-expand"});if(!hs.fireEvent(this,"onCreateFullExpand")){return}this.createOverlay({overlayId:this.fullExpandLabel,position:hs.fullExpandPosition,hideOnMouseOut:true,opacity:hs.fullExpandOpacity})},doFullExpand:function(){try{if(!hs.fireEvent(this,"onDoFullExpand")){return}if(this.fullExpandLabel){hs.discardElement(this.fullExpandLabel)}this.focus();var a=this.x.pos-(this.x.full-this.x.size)/2;if(a<hs.marginLeft){a=hs.marginLeft}this.moveTo(a,this.y.pos);this.resizeTo(this.x.full,this.y.full);this.doShowHide("hidden");hs.setDimmerSize(this)}catch(b){window.location.href=this.content.src}},afterClose:function(){this.a.className=this.a.className.replace("highslide-active-anchor","");this.doShowHide("visible");if(this.outline&&this.outlineWhileAnimating){this.outline.destroy()}hs.discardElement(this.wrapper);if(this.dimmingOpacity){hs.undim(this.key)}hs.fireEvent(this,"onAfterClose");hs.expanders[this.key]=null;hs.reOrder()}};hs.Slideshow=function(b){hs.updateAnchors();for(var a in b){this[a]=b[a]}if(this.useControls){this.getControls()}};hs.Slideshow.prototype={getControls:function(){this.controls=hs.createElement("div",{innerHTML:hs.replaceLang(hs.skin.controls)},null,hs.container);var b=["play","pause","previous","next","move","full-expand","close"];this.btn={};var c=this;for(var a=0;a<b.length;a++){this.btn[b[a]]=hs.getElementByClass(this.controls,"li","highslide-"+b[a]);this.enable(b[a])}this.btn.pause.style.display="none"},checkFirstAndLast:function(){if(this.repeat||!this.controls){return}var b=this.exp.getAnchorIndex(),a=/disabled$/;if(b==0){this.disable("previous")}else{if(a.test(this.btn.previous.getElementsByTagName("a")[0].className)){this.enable("previous")}}if(b+1==hs.anchors.groups[this.exp.slideshowGroup||"none"].length){this.disable("next");this.disable("play")}else{if(a.test(this.btn.next.getElementsByTagName("a")[0].className)){this.enable("next");this.enable("play")}}},enable:function(d){if(!this.btn){return}var c=this,b=this.btn[d].getElementsByTagName("a")[0],e=/disabled$/;b.onclick=function(){c[d]();return false};if(e.test(b.className)){b.className=b.className.replace(e,"")}},disable:function(c){if(!this.btn){return}var b=this.btn[c].getElementsByTagName("a")[0];b.onclick=function(){return false};if(!/disabled$/.test(b.className)){b.className+=" disabled"}},hitSpace:function(){if(this.autoplay){this.pause()}else{this.play()}},play:function(a){if(this.btn){this.btn.play.style.display="none";this.btn.pause.style.display=""}this.autoplay=true;if(!a){hs.next(this.exp.key)}},pause:function(){if(this.btn){this.btn.pause.style.display="none";this.btn.play.style.display=""}clearTimeout(this.autoplay);this.autoplay=null},previous:function(){this.pause();hs.previous(this.btn.previous)},next:function(){this.pause();hs.next(this.btn.next)},move:function(){},"full-expand":function(){hs.getExpander().doFullExpand()},close:function(){hs.close(this.btn.close)}};if(document.readyState&&hs.ie){(function(){try{document.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,50);return}hs.domReady()})()}hs.langDefaults=hs.lang;var HsExpander=hs.Expander;hs.addEventListener(document,"mousemove",function(a){hs.mouse={x:a.clientX,y:a.clientY}});hs.addEventListener(document,"mousedown",hs.mouseClickHandler);hs.addEventListener(document,"mouseup",hs.mouseClickHandler);hs.addEventListener(window,"load",hs.preloadImages);